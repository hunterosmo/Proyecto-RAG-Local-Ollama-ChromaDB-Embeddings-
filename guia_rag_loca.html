<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Gu√≠a RAG Local ‚Äì Proyecto D:\RAG_LOCAL</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      --bg: #020617;
      --accent: #22c55e;
      --accent-soft: rgba(34, 197, 94, 0.12);
      --accent-strong: #4ade80;
      --text-main: #e5e7eb;
      --text-muted: #9ca3af;
      --border-soft: #1f2937;
      --shadow-soft: 0 18px 45px rgba(0, 0, 0, 0.7);
      --radius-lg: 18px;
      --radius-pill: 999px;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      padding: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
        sans-serif;
      background:
        radial-gradient(circle at top, #0b1120 0, #020617 55%),
        radial-gradient(circle at bottom, #0f172a 0, #020617 60%);
      color: var(--text-main);
    }

    main {
      max-width: 1080px;
      margin: 32px auto 40px;
      padding: 0 16px;
    }

    header {
      margin-bottom: 18px;
    }

    .badge {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 4px 12px;
      border-radius: var(--radius-pill);
      background: rgba(15, 23, 42, 0.75);
      color: var(--accent-strong);
      font-size: 11px;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      border: 1px solid rgba(74, 222, 128, 0.5);
      backdrop-filter: blur(12px);
    }

    h1 {
      margin: 10px 0 4px;
      font-size: 26px;
      line-height: 1.2;
      letter-spacing: -0.03em;
    }

    .subtitle {
      margin: 0;
      font-size: 14px;
      color: var(--text-muted);
    }

    .header-meta {
      margin-top: 10px;
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      font-size: 11px;
      color: var(--text-muted);
    }

    .header-meta span {
      padding: 2px 10px;
      border-radius: var(--radius-pill);
      background: rgba(15, 23, 42, 0.85);
      border: 1px solid rgba(148, 163, 184, 0.4);
    }

    section {
      margin-top: 16px;
    }

    .card {
      background: radial-gradient(circle at top left, #020617 0, #020617 60%);
      border-radius: 22px;
      border: 1px solid rgba(31, 41, 55, 0.85);
      box-shadow: var(--shadow-soft);
      padding: 18px 18px 18px;
      position: relative;
      overflow: hidden;
    }

    .card::before {
      content: "";
      position: absolute;
      inset: -40%;
      background:
        radial-gradient(circle at top left, rgba(34, 197, 94, 0.16), transparent 55%);
      opacity: 0.9;
      pointer-events: none;
    }

    .card-inner {
      position: relative;
      z-index: 1;
    }

    .card h2 {
      margin-top: 0;
      font-size: 20px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .card h3 {
      font-size: 16px;
      margin-top: 12px;
      margin-bottom: 4px;
    }

    p {
      margin: 6px 0;
      font-size: 14px;
      line-height: 1.6;
    }

    .muted {
      color: var(--text-muted);
      font-size: 13px;
    }

    ul {
      margin: 6px 0 6px 18px;
      padding-left: 0;
      font-size: 14px;
    }

    li {
      margin-bottom: 4px;
    }

    code {
      font-family: "JetBrains Mono", ui-monospace, SFMono-Regular, Menlo,
        Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 13px;
      background: rgba(15, 23, 42, 0.95);
      padding: 2px 4px;
      border-radius: 5px;
      border: 1px solid rgba(31, 41, 55, 0.9);
    }

    pre {
      margin: 8px 0;
      padding: 10px 12px;
      border-radius: 14px;
      background: rgba(15, 23, 42, 0.98);
      color: #e5e7eb;
      border: 1px solid rgba(31, 41, 55, 0.95);
      overflow-x: auto;
      font-family: "JetBrains Mono", ui-monospace, SFMono-Regular, Menlo,
        Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 13px;
      line-height: 1.5;
    }

    .table-wrapper {
      overflow-x: auto;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin: 6px 0;
      font-size: 13px;
    }

    th, td {
      padding: 6px 8px;
      border-bottom: 1px solid rgba(31, 41, 55, 0.8);
      text-align: left;
    }

    th {
      background: rgba(15, 23, 42, 0.95);
      font-weight: 600;
    }

    tr:nth-child(even) td {
      background: rgba(15, 23, 42, 0.65);
    }

    .chips-row {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-top: 4px;
    }

    .chip {
      padding: 3px 9px;
      border-radius: var(--radius-pill);
      border: 1px solid rgba(148, 163, 184, 0.6);
      background: rgba(15, 23, 42, 0.95);
      font-size: 11px;
      color: var(--text-muted);
    }

    .pill-title {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 2px 10px;
      border-radius: 999px;
      background: rgba(15, 23, 42, 0.9);
      border: 1px solid rgba(148, 163, 184, 0.7);
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.06em;
      color: var(--text-muted);
      margin-bottom: 8px;
    }

    @media (max-width: 720px) {
      main {
        margin-top: 20px;
      }
      h1 {
        font-size: 22px;
      }
      .card {
        padding: 15px 14px 16px;
        border-radius: 20px;
      }
    }
  </style>
</head>
<body>
  <main>
    <header>
      <div class="badge">
        <span>üß† RAG Local</span>
        <span>Gu√≠a del Proyecto (Rutas C:\ o D:\)</span>
      </div>
      <h1>Gu√≠a RAG Local ‚Äì Ollama + ChromaDB + Documentos</h1>
      <p class="subtitle">
        Documentaci√≥n general del proyecto RAG local: conceptos, requisitos, instalaci√≥n,
        estructura de carpetas y flujo de uso en Windows.
      </p>
      <div class="header-meta">
        <span>RAG simple + router inteligente</span>
        <span>Ollama ¬∑ ChromaDB ¬∑ SentenceTransformers</span>
        <span>Documentos locales (PDF/Office/TXT/MD)</span>
      </div>
    </header>

    <!-- Aviso sobre disco -->
    <section class="card">
      <div class="card-inner">
        <span class="pill-title">Nota inicial importante</span>
        <h2>Antes de empezar: ¬øen qu√© disco voy a instalar el proyecto?</h2>
        <p>
          En esta gu√≠a se usa como ejemplo la ruta <strong>D:\RAG_LOCAL</strong>, es decir,
          un <strong>disco diferente al C:</strong>.  
        </p>
        <p>
          Esto es √∫til porque:
        </p>
        <ul>
          <li>No llenas el disco C: donde est√° Windows.</li>
          <li>Puedes tener un disco dedicado a proyectos, datos o laboratorio.</li>
          <li>Es m√°s f√°cil formatear o reinstalar Windows sin tocar tu carpeta de RAG.</li>
        </ul>
        <p>
          Pero si solo tienes el disco C: o prefieres usar C:, tambi√©n es v√°lido.  
          En cada paso te mostrar√©:
        </p>
        <ul>
          <li>Opci√≥n con <strong>D:\RAG_LOCAL</strong></li>
          <li>Opci√≥n con <strong>C:\RAG_LOCAL</strong></li>
        </ul>
        <p class="muted">
          Regla de oro: donde veas <code>D:\RAG_LOCAL</code>, puedes cambiarlo por
          <code>C:\RAG_LOCAL</code> o por la letra de disco que t√∫ quieras
          (por ejemplo, <code>E:\RAG_LOCAL</code>), siempre y cuando seas consistente.
        </p>
      </div>
    </section>

    <!-- 1. Conceptos b√°sicos -->
    <section class="card">
      <div class="card-inner">
        <span class="pill-title">Secci√≥n 1 ¬∑ Conceptos b√°sicos</span>
        <h2>1. ¬øQu√© es un RAG? (Explicaci√≥n sencilla)</h2>
        <p>
          <strong>RAG</strong> significa <strong>Retrieval-Augmented Generation</strong>,
          o <em>Generaci√≥n aumentada por recuperaci√≥n</em>.
        </p>
        <p>En palabras simples:</p>
        <ul>
          <li>Tienes una <strong>IA que genera texto</strong> (phi4, llama, mistral‚Ä¶).</li>
          <li>Tienes una <strong>base de conocimiento</strong> con tus documentos.</li>
          <li>Cuando preguntas algo, la IA primero <strong>busca en tus documentos</strong> y luego responde usando esa informaci√≥n.</li>
        </ul>

        <h3>¬øQu√© hace tu RAG en este proyecto?</h3>
        <p>
          Tu sistema RAG local est√° pensado para trabajar con tus archivos en
          <code>RUTA_DISCO\RAG_LOCAL\docs</code> (puede ser C:\ o D:\):
        </p>
        <ul>
          <li>PDF</li>
          <li>Word (<code>.docx</code>)</li>
          <li>PowerPoint (<code>.pptx</code>)</li>
          <li>Excel (<code>.xlsx</code>)</li>
          <li>Archivos de texto (<code>.txt</code>, <code>.md</code>)</li>
        </ul>
        <p>
          Cada vez que haces una pregunta, el sistema:
        </p>
        <ol>
          <li>Convierte tu pregunta a un embedding (vector de n√∫meros).</li>
          <li>Busca los fragmentos m√°s parecidos en tus documentos.</li>
          <li>Construye un contexto con esos fragmentos.</li>
          <li>Env√≠a ese contexto al modelo de IA (phi4, llama3.1, mistral).</li>
          <li>Te responde en espa√±ol usando tus apuntes y archivos como base.</li>
        </ol>
      </div>
    </section>

    <!-- 2. Embeddings -->
    <section class="card">
      <div class="card-inner">
        <span class="pill-title">Secci√≥n 2 ¬∑ Embeddings</span>
        <h2>2. ¬øQu√© es un embedding?</h2>
        <p>
          Un <strong>embedding</strong> es una representaci√≥n de texto convertida
          en una lista de n√∫meros (un vector). Es la forma en que el sistema ‚Äúentiende‚Äù
          el significado de una frase.
        </p>
        <p>Lo importante no es ver los n√∫meros, sino lo que permiten hacer:</p>
        <ul>
          <li>Frases con significado parecido tienen embeddings similares.</li>
          <li>El sistema puede buscar ‚Äúpor significado‚Äù y no solo por palabras exactas.</li>
        </ul>
        <p>Ejemplo de idea:</p>
        <ul>
          <li>‚Äúcadena de custodia en inform√°tica forense‚Äù</li>
          <li>‚Äúproceso para mantener la integridad de la evidencia digital‚Äù</li>
        </ul>
        <p>
          Aunque usan palabras diferentes, sus embeddings est√°n cerca, entonces
          tu RAG las considera relacionadas.
        </p>
        <p class="muted">
          En tu proyecto, los embeddings se generan con un modelo tipo
          <strong>all-MiniLM-L6-v2</strong> (r√°pido y eficiente para uso local).
        </p>
      </div>
    </section>

    <!-- 3. Para qu√© sirve este RAG -->
    <section class="card">
      <div class="card-inner">
        <span class="pill-title">Secci√≥n 3 ¬∑ Uso del sistema</span>
        <h2>3. ¬øPara qu√© tipo de cosas sirve este RAG?</h2>
        <p>Este RAG local est√° pensado para tareas como:</p>
        <ul>
          <li>
            <strong>Estudio personal</strong>  
            Preguntar a tus apuntes para preparar ex√°menes, res√∫menes y trabajos.
          </li>
          <li>
            <strong>Ciberseguridad y forense</strong>  
            Consultar documentaci√≥n t√©cnica, manuales, gu√≠as de hardening, normas, etc.
          </li>
          <li>
            <strong>Trabajo profesional</strong>  
            Leer pol√≠ticas, procedimientos, informes y sacar res√∫menes o explicaciones.
          </li>
          <li>
            <strong>Apuntes centralizados</strong>  
            Tener PDFs, Word, presentaciones y hojas de c√°lculo como una sola ‚Äúbase de conocimiento‚Äù.
          </li>
          <li>
            <strong>IA privada</strong>  
            Todo corre en tu PC, sin subir tus documentos a la nube.
          </li>
        </ul>

        <h3>Tipos de preguntas que maneja el sistema</h3>
        <ul>
          <li>Preguntas de conversaci√≥n general (small talk).</li>
          <li>Preguntas de c√≥digo / programaci√≥n.</li>
          <li>Preguntas que quieren usar <strong>tus documentos</strong>.</li>
        </ul>

        <p class="muted">
          El router inteligente decide cu√°ndo usar un modelo de chat general,
          cu√°ndo usar un modelo especializado en c√≥digo y cu√°ndo activar
          el motor RAG con tus documentos.
        </p>
      </div>
    </section>

    <!-- 4. Requerimientos -->
    <section class="card">
      <div class="card-inner">
        <span class="pill-title">Secci√≥n 4 ¬∑ Requerimientos</span>
        <h2>4. ¬øPara qu√© tipo de equipo est√° pensado este RAG?</h2>
        <p>
          El proyecto est√° dise√±ado para funcionar en varios niveles de hardware.
          Cuanto m√°s potente el equipo, m√°s grandes y complejos pueden ser los modelos.
        </p>

        <div class="table-wrapper">
          <table>
            <thead>
              <tr>
                <th>Nivel de equipo</th>
                <th>CPU</th>
                <th>RAM</th>
                <th>Uso recomendado</th>
                <th>Modelos sugeridos</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>M√≠nimo</strong></td>
                <td>4 n√∫cleos</td>
                <td>8 GB</td>
                <td>Documentos peque√±os, estudio ligero, pruebas b√°sicas.</td>
                <td><code>llama3.1:8b</code>, <code>mistral</code> peque√±o, <code>phi4</code> cuantizado.</td>
              </tr>
              <tr>
                <td><strong>Medio (ideal)</strong></td>
                <td>6‚Äì8 n√∫cleos</td>
                <td>16 GB</td>
                <td>Uso diario, PDFs medianos, m√∫ltiples documentos.</td>
                <td><code>phi4:14b-q4_K_M</code>, <code>llama3.1:8b</code>, <code>mistral</code> para c√≥digo.</td>
              </tr>
              <tr>
                <td><strong>Alto rendimiento</strong></td>
                <td>12‚Äì16 n√∫cleos</td>
                <td>32‚Äì64 GB</td>
                <td>Documentos grandes, colecciones voluminosas, modelos enormes.</td>
                <td>Modelos m√°s grandes (phi/llama 70B, Mixtral, etc., si la GPU lo permite).</td>
              </tr>
            </tbody>
          </table>
        </div>

        <p>
          La idea es:
        </p>
        <ul>
          <li>En equipos modestos ‚Üí usar modelos peque√±os y r√°pidos.</li>
          <li>En equipos medios ‚Üí usar <strong>phi4 14B</strong> para RAG, llama3.1 para chat y mistral para c√≥digo.</li>
          <li>En equipos potentes ‚Üí puedes experimentar con modelos m√°s pesados.</li>
        </ul>

        <p class="muted">
          Tu configuraci√≥n est√° pensada para un equipo de nivel medio: un buen balance
          entre rendimiento y calidad de respuesta.
        </p>
      </div>
    </section>

    <!-- 5. Instalaci√≥n -->
    <section class="card">
      <div class="card-inner">
        <span class="pill-title">Secci√≥n 5 ¬∑ Instalaci√≥n del entorno</span>
        <h2>5. Instalaci√≥n paso a paso (sin entrar al c√≥digo)</h2>

        <h3>5.1. Instalar Python 3.11.9 para evitar problemas tiene que ser esta version pero eres libre de usar la que se acople a ti</h3>
        <p>
          Descarga Python desde la p√°gina oficial:
        </p>
        <p><a href="https://www.python.org/downloads/windows/" target="_blank" style="color: var(--accent-strong); text-decoration:none;">https://www.python.org/downloads/windows/</a></p>
        <p>Durante la instalaci√≥n:</p>
        <ul>
          <li>Marca ‚úî <strong>Add Python to PATH</strong>.</li>
          <li>Luego pulsa en <strong>Install Now</strong>.</li>
        </ul>

        <h3>5.2. Crear la carpeta del proyecto (C: o D:)</h3>
        <p>
          Abre PowerShell y elige una de estas dos opciones:
        </p>

        <p><strong>Opci√≥n A ‚Äì Usar el disco D: (recomendado si lo tienes):</strong></p>
        <pre>
D:
mkdir D:\RAG_LOCAL
mkdir D:\RAG_LOCAL\docs
mkdir D:\RAG_LOCAL\chroma_db
mkdir D:\RAG_LOCAL\bat
cd D:\RAG_LOCAL
        </pre>

        <p><strong>Opci√≥n B ‚Äì Usar el disco C: (si no tienes D:):</strong></p>
        <pre>
C:
mkdir C:\RAG_LOCAL
mkdir C:\RAG_LOCAL\docs
mkdir C:\RAG_LOCAL\chroma_db
mkdir C:\RAG_LOCAL\bat
cd C:\RAG_LOCAL
        </pre>

        <p class="muted">
          Si quieres usar otra letra (por ejemplo E:), simplemente cambia la letra en
          todos los comandos (E:\RAG_LOCAL, etc.).  
          Lo importante es que seas consistente en toda la gu√≠a.
        </p>

        <h3>5.3. ¬øPor qu√© usamos un entorno virtual de Python?</h3>
        <p>
          El proyecto utiliza un <strong>entorno virtual</strong> llamado <code>.venv</code>.
          Esto se hace por varias razones:
        </p>
        <ul>
          <li><strong>Separar librer√≠as del sistema</strong>: lo que instales aqu√≠ no afecta a otros proyectos ni al Python global.</li>
          <li><strong>Evitar conflictos de versiones</strong>: puedes tener versiones concretas de <code>chromadb</code>, <code>sentence-transformers</code>, etc.</li>
          <li><strong>Reproducibilidad</strong>: si subes el proyecto a GitHub, otra persona puede recrear el entorno con las mismas dependencias.</li>
        </ul>
        <p>
          Piensa en <code>.venv</code> como una ‚Äúburbuja‚Äù donde vive el Python
          de tu proyecto, con sus librer√≠as espec√≠ficas.
        </p>

        <h3>5.4. Crear y activar el entorno virtual</h3>
        <p>Estando dentro de tu carpeta <code>RAG_LOCAL</code> (en C: o D:):</p>
        <pre>
python -m venv .venv
        </pre>

        <p>Para activarlo en PowerShell:</p>

        <p><strong>Si est√°s en D:\RAG_LOCAL:</strong></p>
        <pre>
D:
cd D:\RAG_LOCAL
.\.venv\Scripts\activate
        </pre>

        <p><strong>Si est√°s en C:\RAG_LOCAL:</strong></p>
        <pre>
C:
cd C:\RAG_LOCAL
.\.venv\Scripts\activate
        </pre>

        <p>
          Si aparece un error diciendo que los scripts est√°n deshabilitados,
          ejecuta (solo una vez):
        </p>
        <pre>
Set-ExecutionPolicy -Scope CurrentUser -ExecutionPolicy RemoteSigned
        </pre>

        <p>Luego vuelve a activar el entorno con el comando correspondiente (C: o D:).</p>

        <!-- 5.5 ACTUALIZADA -->
        <h3>5.5. Instalar librer√≠as de Python (ChromaDB + Embeddings + LangChain)</h3>

        <p>
          Con el entorno virtual activado (debes ver <code>(.venv)</code> en tu terminal),
          instala todas las librer√≠as necesarias para que tu RAG funcione correctamente.
        </p>

        <p>
          En Windows, el comando del int√©rprete puede variar seg√∫n c√≥mo se instal√≥ Python. <strong>a mi solo me funcion√≥ correctamente</strong> usando <code>py -m pip </code>,
          pero aqu√≠ se dejan las tres opciones m√°s comunes:
        </p>

        <pre>
# Opci√≥n 1 (la que funcion√≥ en este proyecto)
py -m pip install --upgrade pip

# Opci√≥n 2 (muchos equipos con "python" en PATH)
python -m pip install --upgrade pip

# Opci√≥n 3 (algunos sistemas / WSL / Linux)
python3 -m pip install --upgrade pip
        </pre>

        <p>
          A partir de aqu√≠, en los ejemplos se usar√° <code>py -m pip</code>, pero
          si en tu equipo funciona mejor <code>python -m</code> o <code>python3 -m</code>,
          simplemente reemplaza <code>py</code> por el comando que corresponda.
        </p>

        <p><strong>üîπ 1. Instalar Sentence Transformers (Embeddings)</strong></p>
        <p>
          Este paquete permite crear embeddings usando el modelo
          <code>all-MiniLM-L6-v2</code>, que es el que utiliza tu RAG.
        </p>

        <pre>
py -m pip install sentence-transformers
        </pre>

        <p><strong>üîπ 2. Instalar ChromaDB (Base vectorial + Cliente)</strong></p>
        <p>
          ChromaDB es donde se almacenan los chunks de texto y embeddings.
          Es fundamental para consultas tipo RAG.
        </p>

        <pre>
py -m pip install chromadb
        </pre>

        <p><strong>üîπ 3. Instalar cliente HTTP para Ollama</strong></p>
        <p>
          Ollama se comunica v√≠a HTTP usando la librer√≠a
          <code>requests</code>. Tu archivo <code>rag_core.py</code> depende
          de esta librer√≠a para enviar prompts y recibir respuestas del modelo local.
        </p>

        <pre>
py -m pip install requests
        </pre>

        <p><strong>üîπ 4. Instalar LangChain + Text Splitters</strong></p>
        <p>
          LangChain permite:
        </p>
        <ul>
          <li>Cargar PDF, Word, Excel y m√°s.</li>
          <li>Trocear documentos con <strong>text splitters</strong>.</li>
          <li>Preparar el flujo de ingesta para <code>ingest.py</code> y <code>re_ingest.py</code>.</li>
        </ul>

        <pre>
py -m pip install langchain langchain-community langchain-text-splitters
        </pre>

        <p><strong>üîπ 5. Instalar lectores de archivos (PDF, Word, Excel, PowerPoint)</strong></p>
        <p>Estas librer√≠as permiten que tu RAG lea tus documentos reales.</p>

        <pre>
py -m pip install pypdf python-docx openpyxl python-pptx
        </pre>

        <p>
          Con estas librer√≠as podr√°s indexar completamente:
        </p>
        <ul>
          <li>üìÑ Archivos PDF (<code>.pdf</code>)</li>
          <li>üìù Documentos Word (<code>.docx</code>)</li>
          <li>üìä Excel (<code>.xlsx</code>)</li>
          <li>üìΩ PowerPoint (<code>.pptx</code>)</li>
          <li>üìÉ Archivos Markdown y <code>.txt</code></li>
        </ul>

        <p>
          Ahora tu entorno tiene todo lo necesario para ejecutar correctamente
          <strong>ingest.py</strong>, <strong>re_ingest.py</strong>,
          <strong>rag_core.py</strong> y tu RAG completo.
        </p>

        <h3>5.6. Instalar Ollama y los modelos</h3>
        <p>Instala Ollama desde su p√°gina oficial y luego, en una terminal, ejecuta:</p>
        <pre>
ollama pull phi4:14b-q4_K_M
ollama pull mistral
ollama pull llama3.1:8b
        </pre>

        <p class="muted">
          Estos son los modelos que usar√°s por defecto:
          <strong>phi4</strong> para RAG sobre documentos, <strong>mistral</strong> para
          programaci√≥n y <strong>llama3.1</strong> para chat general.
        </p>
      </div>
    </section>

    <!-- 6. Estructura del proyecto -->
    <section class="card">
      <div class="card-inner">
        <span class="pill-title">Secci√≥n 6 ¬∑ Estructura del proyecto</span>
        <h2>6. Estructura de carpetas y archivos</h2>
        <p>
          El proyecto se organiza en <code>RUTA_DISCO\RAG_LOCAL</code> con la siguiente estructura
          general (usando D: como ejemplo):
        </p>
        <pre>
D:\RAG_LOCAL\
‚îÇ
‚îú‚îÄ‚îÄ docs\               ‚Üê Aqu√≠ van tus documentos (PDF, DOCX, PPTX, XLSX, TXT, MD)
‚îú‚îÄ‚îÄ chroma_db\          ‚Üê Base vectorial (la genera el sistema)
‚îú‚îÄ‚îÄ bat\                ‚Üê Contiene el archivo iniciar_rag.bat (si lo usas)
‚îú‚îÄ‚îÄ .venv\              ‚Üê Entorno virtual de Python
‚îÇ
‚îú‚îÄ‚îÄ config.py           ‚Üê Configuraci√≥n: rutas, modelos, par√°metros RAG
‚îú‚îÄ‚îÄ ingest.py           ‚Üê Ingesta de documentos (lee docs/ y llena chroma_db/)
‚îú‚îÄ‚îÄ re_ingest.py        ‚Üê Limpia la colecci√≥n y vuelve a ingerir todo
‚îú‚îÄ‚îÄ clean_collection.py ‚Üê Borra la colecci√≥n 'docs' en Chroma
‚îú‚îÄ‚îÄ count_collection.py ‚Üê Muestra cu√°ntos chunks hay en la colecci√≥n
‚îú‚îÄ‚îÄ rag_core.py         ‚Üê N√∫cleo completo del RAG con filtros
‚îú‚îÄ‚îÄ rag_query.py        ‚Üê RAG simple basado en phi4 y Chroma
‚îú‚îÄ‚îÄ smart_query.py      ‚Üê Router inteligente (chat / c√≥digo / documentos)
‚îú‚îÄ‚îÄ rag_menu.py         ‚Üê Men√∫ principal para manejar todo
‚îú‚îÄ‚îÄ ui_console.py       ‚Üê Modo consola RAG directo (parte esencial del proyecto)
‚îî‚îÄ‚îÄ iniciar_rag.ps1     ‚Üê Script PowerShell para arrancar el men√∫ r√°pido
        </pre>

        <p>
          Si usas <strong>C:</strong> en lugar de D:, la estructura ser√° igual, pero
          con:
        </p>
        <pre>
C:\RAG_LOCAL\...
        </pre>

        <p>
          Los c√≥digos completos de estos archivos viven en la carpeta del proyecto
          (por ejemplo, en tu repositorio bajo <code>src/</code> o directamente
          en <code>RAG_LOCAL</code>).  
          Esta gu√≠a se centra en explicar su funci√≥n, sin duplicar el c√≥digo aqu√≠.
        </p>
      </div>
    </section>

    <!-- 7. Acceso directo -->
    <section class="card">
      <div class="card-inner">
        <span class="pill-title">Secci√≥n 7 ¬∑ Acceso directo</span>
        <h2>7. Acceso directo al men√∫ principal</h2>
        <p>
          Para no tener que abrir PowerShell y escribir comandos cada vez, puedes
          crear un acceso directo en el escritorio que ejecute este comando
          (ajusta la ruta seg√∫n uses C: o D:):, asi tambien debes crear un acceso directo en tu escritorio si quieres abrir directamente tu menu desde la carpeta bat rag_menu.py
        </p>

        <p><strong>Si usas D:\RAG_LOCAL (como en tu proyecto):</strong></p>
        <pre>
powershell.exe -ExecutionPolicy Bypass -NoExit -File "D:\RAG_LOCAL\iniciar_rag.ps1"
        </pre>

        <p><strong>Si usas C:\RAG_LOCAL:</strong></p>
        <pre>
powershell.exe -ExecutionPolicy Bypass -NoExit -File "C:\RAG_LOCAL\iniciar_rag.ps1"
        </pre>

        <p>Flujo t√≠pico:</p>
        <ol>
          <li>Haces doble clic en el acceso directo.</li>
          <li>Se ejecuta <code>iniciar_rag.ps1</code>.</li>
          <li>Ese script activa el entorno virtual <code>.venv</code>.</li>
          <li>Se ejecuta <code>rag_menu.py</code>.</li>
          <li>Aparece el men√∫ del RAG en la consola.</li>
        </ol>

        <p>En el men√∫ ver√°s opciones como:</p>
        <ul>
          <li>1) Re-ingestar documentos</li>
          <li>2) Limpiar colecci√≥n</li>
          <li>3) Contar documentos/chunks</li>
          <li>4) Modo chat (m√∫ltiples preguntas)</li>
          <li>5) Pregunta √∫nica r√°pida</li>
          <li>6) Salir</li>
          <li>7) Abrir <code>ui_console.py</code> (consola avanzada, habla directamente con el RAG)</li>
        </ul>
      </div>
    </section>

    <!-- 8. Flujo de trabajo -->
    <section class="card">
      <div class="card-inner">
        <span class="pill-title">Secci√≥n 8 ¬∑ Flujo de trabajo</span>
        <h2>8. Flujo t√≠pico de uso del RAG</h2>

        <h3>1) Cargar o actualizar documentos</h3>
        <ul>
          <li>Copia tus PDFs, DOCX, PPTX, XLSX, TXT y MD dentro de <code>RUTA_DISCO\RAG_LOCAL\docs</code>.</li>
        </ul>

        <h3>2) Re-ingestar la colecci√≥n</h3>
        <ul>
          <li>Abre el men√∫ del RAG (con el acceso directo).</li>
          <li>Elige la opci√≥n <strong>1) Re-ingestar documentos</strong>.</li>
          <li>El sistema limpia la colecci√≥n y la vuelve a construir con tus archivos.</li>
        </ul>

        <h3>3) Hacer preguntas</h3>
        <ul>
          <li>Para estudiar: usa el men√∫ en <strong>4) Modo chat</strong>.</li>
          <li>Para una √∫nica consulta: opci√≥n <strong>5) Pregunta √∫nica r√°pida</strong>.</li>
          <li>Para hablar <em>directamente</em> con el motor RAG:
            usa la <strong>opci√≥n 7</strong> del men√∫ (<code>ui_console.py</code> ‚Äì consola avanzada).
          </li>
        </ul>

        <h3>4) Ejemplos de uso conceptual</h3>
        <ul>
          <li>‚ÄúSeg√∫n mis apuntes de forense, ¬øqu√© es la cadena de custodia?‚Äù</li>
          <li>‚ÄúRes√∫meme el documento de hardening de Linux que est√° en la carpeta seguridad.‚Äù</li>
          <li>‚ÄúExpl√≠came con tus propias palabras el cap√≠tulo de redes del PDF de Juli√°n Camargo.‚Äù</li>
        </ul>

        <div class="chips-row">
          <span class="chip">IA local y privada</span>
          <span class="chip">Documentos como base de conocimiento</span>
          <span class="chip">Router inteligente</span>
          <span class="chip">RAG especializado para estudio y trabajo</span>
        </div>
      </div>
    </section>
  </main>
</body>
</html>
